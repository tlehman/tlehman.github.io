<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="16x16 32x32">

    
        <meta property="og:title" content="kubernetes" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://tobilehman.com/tags/kubernetes/ " />
        <meta property="og:image" content=""/>
        <meta name="twitter:card" content="summary_large_image">

        <meta name="twitter:creator" content="@tobi_lehman" />
        <meta name="twitter:title" content="kubernetes" />
        <meta name="twitter:description" content="" />
        <meta name="twitter:image" content='' />
    

    <title>
        
            kubernetes : tobilehman.com
        
    </title>


    
    <script>
        var breadcrumbs = window.location.href.replace(/\?.*$/, '').split("/");
        var path = "";
        for(var i = 3; i < breadcrumbs.length; i++) {
            if(i > 3 && i < breadcrumbs.length-1) {
                path += "/";
            }
            path += breadcrumbs[i];
        }

        var pwd = "/home/tobi/" + path;
    </script>
    
    <script src="/js/base.js"></script>
    <link rel="stylesheet" href="/css/base.css"></link>
    <link rel="stylesheet" href="/css/custom-2022-10-17.css"></link>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
const title = document.getElementsByTagName('meta');
</script>

</head>
<body><div class="row">
    <div class="col-2 header-col-2"></div>
    <div class="col-8 centered" style="max-width: 100%; padding: 0">
        <div id="terminal" style="max-width: 100%; overflow-x: hidden;">
        <pre>Welcome to tobilehman.com!
% <span id="cursor">&nbsp</span></pre>
        </div>
    </div>
    <div class="col-2 header-col-2"></div>
</div>
<div class="row">
            <div class="col-2"><style>
.more-hidden::after {
    content: "\25BA";
}
.more-showing::after {
    content: "\25BC"
}
</style>
<script>

function more() {
    const m = document.getElementById('more-expander');
    const o = document.getElementById('other-menu');
    m.classList.remove('more-hidden');
    m.classList.add('more-showing');
    o.classList.remove('hidden');
    m.innerText = "Less";
}

function less() {
    const m = document.getElementById('more-expander');
    const o = document.getElementById('other-menu');
    m.classList.add('more-hidden');
    m.classList.remove('more-showing');
    m.innerText = "More";
    o.classList.add('hidden');
}

function toggleMoreLess() {
    const m = document.getElementById('more-expander');
    if(m.classList.contains('more-hidden')) {
        more();
    } else {
        less();
    }
}

</script>
<nav>
    <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/posts">Posts</a></li>
        <li><a href="/tags">#Tags</a></li>
        <li>
           <a id="more-expander" class="more-hidden" href="javascript:toggleMoreLess()">More</a>
        </li>
        <div id="other-menu" class="hidden">
            <li><a href="/archive">Archive</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/beliefs">Beliefs</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a id="dark-mode-toggle" href="javascript:activateDarkMode">Dark Mode</a></li>
            <li><a href="/links">Links</a></li>
            <li><a href="/notes">Notes</a></li>
            <li><a href="/projects">Projects</a></li>
        </div>
    </ul>
</nav>

</div>
            <div class="col-8">
                <div id="content">
    
    
    
    
    
        <h1>kubernetes posts</h1>
        
            
<article class="post">
  <header>
    <h2><a href='https://tobilehman.com/posts/suse-harvester-pci/'> PCI Device passthrough on Harvester</a> </h2>
    <div class="post-meta">Mon, Oct 17, 2022 - 700 Words </div>
  </header>
  I want to share something that I&rsquo;ve been working on for the last three months. Release 1.1.0-rc3 now has working PCI passthrough. Any PCI device in your cluster can now be passed through the hypervisor directly to a VM. This allows virtual machines to directly control a device, like a GPU, without any expensive virtualization layer in the way.
In the diagram above, the guest (VM) has direct memory access to the host&rsquo;s memory for the device.
  <footer>
    <a href='https://tobilehman.com/posts/suse-harvester-pci/'>
      <nobr>Read more &rarr;</nobr>
    </a>
  </footer>
</article>
        
            
<article class="post">
  <header>
    <h2><a href='https://tobilehman.com/posts/k3s-cluster-pis/'> K3s Cluster on Raspberry Pis</a> </h2>
    <div class="post-meta">Thu, Jul 28, 2022 - 500 Words </div>
  </header>
  I wanted to build a HA (High Availability) Kubernetes cluster out of Raspberry Pis. I succeeded in doing so, here&rsquo;s how to make one of these:
List of hardware 3 Raspberry Pi 3 Model B&rsquo;s 1 TPLink 5 Port 10/100 Mbps Ethernet Switch (I had this laying around for 6 years and slapped a Kubernetes sticker on it) A bunch of short ethernet cables and USB micro cables Software The latest version of k3s (a lightweight kubernetes distribution) supports an embedded etcd instance, instead of previous versions that depended on an external MySQL database.
  <footer>
    <a href='https://tobilehman.com/posts/k3s-cluster-pis/'>
      <nobr>Read more &rarr;</nobr>
    </a>
  </footer>
</article>
        
            
<article class="post">
  <header>
    <h2><a href='https://tobilehman.com/posts/wildcard-tls-certs-for-your-lan/'> Wildcard TLS Certificates for Your LAN</a> </h2>
    <div class="post-meta">Thu, May 5, 2022 - 900 Words </div>
  </header>
  for the impatient, skip to the how-to
This article explains how to get a TLS Certificate for your LAN so you can use https:// and not have to ignore these &ldquo;⚠️ Your connection is not secure&rdquo; errors:
The reason that the browser throws this error is that TLS (and SSL before it) were designed to perform two functions:
Authenticate the website to the user (prove it is really that site, and not a MITM) and Secure the contents of the data that flows between the user and the website When you ignore this https error you are forgoing function #1, authentication, but you still get #2.
  <footer>
    <a href='https://tobilehman.com/posts/wildcard-tls-certs-for-your-lan/'>
      <nobr>Read more &rarr;</nobr>
    </a>
  </footer>
</article>
        
            
<article class="post">
  <header>
    <h2><a href='https://tobilehman.com/posts/moving-to-suse/'> Moving to SUSE</a> </h2>
    <div class="post-meta">Fri, Mar 18, 2022 - 400 Words </div>
  </header>
  After 3.6 years at Amazon, I&rsquo;ve decided to move to another company to work on open source software. The company is SUSE, they make a Linux distribution and sell cloud computing services, among other things.
At Amazon I worked on AWS Elemental&rsquo;s Live (video streaming software), a small video encoding device, and the Amazon Scout robotics project. At Scout I built software that controls the robots when autonomy fails, and I worked on safety features and performance optimization of a distributed application that ran on a cluster of servers managed by AWS Fargate.
  <footer>
    <a href='https://tobilehman.com/posts/moving-to-suse/'>
      <nobr>Read more &rarr;</nobr>
    </a>
  </footer>
</article>
        
    

                </div>
            </div>
            <div class="col-2 sidebar">
            </div>
        </div>
<div class="row">
    <div class="col-2"></div>
    <div class="col-8">
      
      <footer class="page-footer font-small special-color-dark pt-4">
      
        
      
        <div class="footer-copyright text-center py-3">&#169; 
          <span class="copyright">
            Copyright 2010-2022 Tobi Lehman. All rights reserved.
          </span>
        </div>
        
      
      </footer>
      
    </div>
    <div class="col-2"></div>
</div>
</body>
</html>
